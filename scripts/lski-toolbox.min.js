(function(n,t,i){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length>>>0,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1}),Array.prototype.remove=function(n,t){return this.splice(n,!t||1+t-n+(!(t<0^n>=0)&&(t<0||-1)*this.length)),this.length},String.prototype.toTitleCase||(String.prototype.toTitleCase=function(){for(var t=this.split(" "),r=[],n=0;t[n]!==i;n++)r[r.length]=t[n].substr(0,1).toUpperCase()+t[n].substr(1);return r.join(" ")}),n.lski=function(){var r={date:{consts:{day:864e5,hour:36e5,minute:6e4,second:1e3},dateOnly:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},timeOnly:function(n,t){var u=n.getHours(),r=n.getMinutes(),i=n.getSeconds();return(u<10?"0":"")+u+":"+(r<10?"0":"")+r+(t?":"+(i<10?"0":"")+i:"")},combine:function(n,t){var i=t;return i&&!i.getTime&&(i=new Date("01/01/01 "+i)),new Date(n.getFullYear(),n.getMonth()+1,n.getDate(),i.getHours(),i.getMinutes(),i.getSeconds())}},json:{parse:function(n,t){return typeof t=="string"&&t.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(t.replace(/\/Date\((-?\d+)\)\//,"$1"))):t},stringify:function(n,t){return t&&t.getTime&&'"\\/Date('+t.getTime()+')\\/"',t}},number:{round:function(n,t){var r=typeof n!="number"?parseFloat(n):n,i=Math.pow(10,parseInt(t));return Math.round(r*i)/i},format:function(n,t,i){function u(n){var t=parseInt(n,10)+"",i=/(\d+)(\d{3})/;while(i.test(t))t=t.replace(i,"$1,$2");return t}function r(n,t){var i=this.round(n,t),r;if(i===null)return null;i=i+"";var u=i.indexOf("."),f=u===-1?"":i.substring(u+1),e=u===-1?[]:[".",f];for(r=f.length;r<t;r++)e.push("0");return e.join("")}return isNaN(n=parseFloat(n))?null:(i?u(n):parseInt(n,10)+"")+r.call(this,n,t)},removeFormatNumber:function(n){return n.replace(/([^0-9\.\-])/g,"")*1}},misc:{urlParams:function(){var t,e=/\+/g,u=/([^&=]+)=?([^&]*)/g,i=function(n){return decodeURIComponent(n.replace(e," "))},f=n.location.search.substring(1),r={};while(t=u.exec(f))r[i(t[1])]=i(t[2]);return r},encodeObject:function(n){var i=[],t;for(t in n)(typeof t=="string"||typeof t=="number"||typeof t=="boolean")&&i.push(t+"="+encodeURIComponent(n[t]));return i.join("&")},preloadImages:function(n){var r=[],t,i;for(n=typeof n!="object"?[n]:n,t=0,i=n.length;t<i;t++)r[t]=new Image,r[t].src=n[t]}},array:{sortNumbers:function(n){return n.sort(function(n,t){return n-t})},shuffle:function(n){var t=n.length;while(t)j=parseInt(Math.random()*t),x=n[--t],n[t]=n[j],n[j]=x;return $arr},unique:function(n){var i=[],t,r;for(n.sort(),n.length!=0&&(i[0]=n[0]),t=1,r=n.length;t<r;t++)n[t]!=n[t-1]&&i.push(n[t]);return i}},events:{numericsOnly:function(t,i){!t&&n.event&&(t=n.event);var r=t.which||t.charCode||t.keyCode;return[8,9,46,35,36,37,38,39,40].indexOf(r)>-1||i===!0&&r===32?!0:[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105].indexOf(r)==-1?!1:!0}},elements:{getSelectionPosition:function(n){scrollPosition=n.scrollTop;if(t.selection){selection=t.selection.createRange().text;if(n.selectionStart===i){var u=t.selection.createRange(),r=u.duplicate();r.moveToElementText(n),caretPosition=-1;while(r.inRange(u))r.moveStart("character"),caretPosition++}else caretPosition=n.selectionStart}else caretPosition=n.selectionStart,selection=n.value.substring(caretPosition,n.selectionEnd);return{start:caretPosition,text:selection}}},string:{shrink:function(n,t,i){return n.length<=t?n:(i!==!0&&(i=!1),t=i&&t-3>0?t-3:t,n.substr(0,t)+(i?"...":""))},isValidEmail:function(){return/^[\S\s]+[@][\S\s]+[.][^\d]{2,}$/.test(email)},htmlEntities:function(){str.replace(/& /g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},stripHtmlEntities:function(n){return n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}}},u=function(){return typeof num!="number"&&(num=parseFloat(num)),isNaN(num)?null:void 0};return r}()})(window,document)